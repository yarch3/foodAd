{% extends 'base.html' %}
{% load static %}
{% block content %}
{% if user.is_authenticated %}
<div class="alert alert-success" id="alertSC" role="alert">
	Вы вошли в <a href="/profile" class="alert-link">аккаунт</a>!
</div>
{% else %}
<div class="alert alert-danger" id="alert" role="alert">
	Сперва <a href='/login' class="alert-link">войдите</a> в аккаунт
</div>
{% endif %}


<div>

<!-- Breadcrumb -->

	<nav aria-label="breadcrumb" class="mt-4">
		<ol class="breadcrumb">
			<li class="breadcrumb-item"><a href="#">Россия</a></li>
			<li class="breadcrumb-item"><a href="#">Северно-Западный округ</a></li>
			<li class="breadcrumb-item"><a href="#">Санкт-Петербург</a></li>
			<li class="breadcrumb-item active" aria-current="page">{{ restaraunt.subname}} {{ restaraunt.name }}</li>
		</ol>
	</nav>
</div>


<div class="container mb-5">
    <div class="row">
        <div class="col-md-6">
            <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>

                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src='{{ restaraunt.image1.url }}' class="d-block w-60" alt="Restaraunt 1">
                    </div>
                    <div class="carousel-item">
                        <img src='{{ restaraunt.image2.url }}' class="d-block w-60" alt="Restaraunt 2">
                    </div>
                    <div class="carousel-item">
                        <img src='{{ restaraunt.image3.url }}' class="d-block w-60" alt="Restaraunt 3">
                    </div>
                    <div class="carousel-item">
                        <img src='{{ restaraunt.image4.url }}' class="d-block w-60" alt="Restaraunt 4">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#myCarousel" type="button" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#myCarousel" type="button" data-bs-slide="next">
                    <span class="sr-only">Next</span>
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </a>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card custom-card">
                <div class="card-body">
                    <h5 class="card-title">{{ restaraunt.subname }} {{ restaraunt.name }}</h5>
                    <hr>
                    <p class="card-text">Адрес: {{ restaraunt.address}} </p>
                    <p class="card-text">Телефон: {{ restaraunt.phone }}</p>
                    <p class="card-text">Часы работы: {{ restaraunt.openhours }} </p>
                    <br>

                    <p class="card-text">
                    {% for i in restaurant.stars|make_list %}&#8381{% endfor %}
                        , {{ restaraunt.category}}
                    </p>
                    <p class="card-text"> Средний чек: {{ restaraunt.avgcheck }} &#8381 </p>
                    <p class="card-text"><a href='{{ restaraunt.url }}' class="btn btn-primary">Забронировать стол</a></p>



                </div>
            </div>
        </div>

    </div>
</div>
<div class ="content" id="review">
<h5><i>Гастрономическая рецензия:</i></h5>
<h1><strong>Грузинская квартира в центре Петербурга</strong></h1>
<hr>
<p>Грузинский дом Askaneli открыл свои двери в самом центре Санкт-Петербурга. На Итальянской улице 2 вы сможете познакомиться с грузинской кухней с азиатскими нотками.</p>

<p>Bistro Askaneli - проект, созданный бренд-шефом Максимом Галишниковым в августе прошлого года, но уже успевший удивить пресытившихся любителей грузинской кухни своими гастрономическими решениями. Хинкали Том Ям с нежным гребешком не оставят никого равнодушным. Смелое смешение стилей прослеживается не только в меню, но и во внутреннем убранстве заведения . Стильная черно-красная униформа, напоминающая кимоно, отлично дополняет антураж заведения.
Заведение встречает гостей минималистичным ресепшеном, украшенным живыми цветами, аромат которых слышен по всему залу. Весь интерьер выполнен в современном грузинском стиле, приглушенный свет гармонирует с яркими красками, создавая атмосферу уюта, в которую хочется возвращаться. </p>

<p>За блюда отвечает бренд-шеф Максим Галишников, который ранее работал в популярном ресторане “Супра” во Владивостоке. Покорив своими рецептами столицу Дальнего Востока, он устремился в столицу, но на этот раз в культурную, связав морепродукты и грузинскую кухню. </p>

<p>Несмотря на все достоинства ресторана, персонал оставляет желать лучшего, чувствуется, что они не работают как единый организм, поэтому путают заказы и забывают убрать грязные тарелки со стола. Скорее всего дело в сравнительно недавнем открытии. </p>
Bistro Askaneli может похвастаться богатой винной грузинской картой и коктейлями, моим фаворитом стал коктейль Чито-Гврито Маргарита - текила, сок лайма, апельсиновый ликер и ткемали с фейхоа.
<p>Средний чек доходит до 2000 рублей без напитков, однако, данное гастрономическое удовольствие я настойчиво рекомендую каждому. </p>

<h6>Писарев Никита РС-2104, студент СПбГЭУ</h6>

</div>
<div class="comments">

</div>
    
<div class="commentsection">
    <h3>Comments:</h3>
<ul>
  {% for comment in comments %}
    <li>{{ comment.user }} - {{ comment.content }}</li>
  {% endfor %}
</ul>
</div>
    
<div class="createcomment">
    <form method="post">
    {% csrf_token %}
    <textarea name="content"></textarea>
    <button type="submit">Add Comment</button>
</form>
</div>




<div class="container" id="cardcontainer">
<h1> Рестораны Петербурга </h1>
<div class="column">
    <div class="row">
        {% for rest in other_rests %}
         <div class="card" style="width: 20rem">
            <img class="card-img-top" src='{{ rest.image1.url }}' alt="">
            <div class="card-body">
                <h5 class="card-title">{{ rest.name }}</h5>
                <hr>
                <div class="card-text">
                <p>{{ rest.address}}</p>
                <p>{% for i in rest.stars|make_list %}&#8381{% endfor %}</p>

                <p>{{ rest.category}}</p>
                </div>
                <button id='change' onclick="sendRestName('{{ rest.name }}')" class="btn btn-primary">Выбрать</button>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
</div>
<div class="comment">
    
</div>
<script>
function sendRestName(rest_name) {
    fetch('/changerest/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': '{{ csrf_token }}'
        },
        body: JSON.stringify({ rest_name: rest_name })
    })
    .then(response => {
        if (response.ok) {
            console.log('Success');
        } else {
            console.error('Failed');
        }
    });
}

</script>
{% endblock content %}